# dep-scan-threshold-analyzer

    ░▀█▀░█░█░█▀▄░█▀▀░█▀▀░█░█░█▀█░█░░░█▀▄
    ░░█░░█▀█░█▀▄░█▀▀░▀▀█░█▀█░█░█░█░░░█░█
    ░░▀░░▀░▀░▀░▀░▀▀▀░▀▀▀░▀░▀░▀▀▀░▀▀▀░▀▀░
    ░█▀█░█▀█░█▀█░█░░░█░█░▀▀█░█▀▀░█▀▄░░░░
    ░█▀█░█░█░█▀█░█░░░░█░░▄▀░░█▀▀░█▀▄░░░░
    ░▀░▀░▀░▀░▀░▀░▀▀▀░░▀░░▀▀▀░▀▀▀░▀░▀░░░░
    v1.0.0

A binary tool that verifies if vulnerability reports generated by dep-scan comply with predefined security thresholds.
It outputs OK if the vulnerabilities are within the threshold or FAIL if they exceed the allowed values.

## License

![ GNU General Public License v3](https://www.gnu.org/graphics/gplv3-127x51.png)

### What does that mean?

- Anyone can run the software licensed under GPLv3 for any purpose without restrictions.
- GPLv3 ensures that users have access to the software's source code, allowing them to study, modify, and improve it.
- Users can distribute copies of the software, but they must do so under the terms of GPLv3. This ensures that the
  original freedoms are maintained in new versions.
- If someone modifies the software and distributes it, they must do so under the same GPLv3 terms and provide the source
  code for their modifications as well.
- If you are interested in knowing more details about the license, please visit the following links:
    - Spanish: https://www.gnu.org/licenses/gpl-3.0.es.html
    - English: https://www.gnu.org/licenses/gpl-3.0.en.html

## How to run the project

### Dependencies

- Python >= 3.12
- dep-scan for generating vulnerability reports.

### Install dependencies

No additional dependencies are required. Just ensure you have Python 3.12 installed.

### Build and run the tool locally

To run **dep-scan-threshold-analyzer** locally, use the following command:

```shell
python dep_scan_threshold_analyzer.py --file <report_file_path> --threshold <threshold_value>
```

### Usage example

```shell
python dep_scan_threshold_analyzer.py --file reports/sbom.vdr.json --threshold 5 
```

### The full list of options

```shell
usage: dep_scan_threshold_analyzer.py [-h] -f FILE -t THRESHOLD

A binary tool that verifies if vulnerability reports generated by dep-scan comply with predefined security thresholds. It outputs OK if the vulnerabilities are within the threshold or FAIL if they exceed the allowed values.

options:
  -h, --help            show this help message and exit
  -f FILE, --file FILE  specifies the directory where the reports are stored. This argument is required and must point to the folder containing the relevant reports.
  -t THRESHOLD, --threshold THRESHOLD
                        defines the threshold level used to determine when a vulnerability or issue should be considered a failure. This argument is required and it sets the sensitivity for identifying critical problems.
```

This will check if the number of vulnerabilities in the dep-scan java report in the reports folder that exceeds the
threshold of 5.